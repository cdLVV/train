{"version":3,"file":"static/js/shopping-cart.94408410.js","mappings":"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","sources":["api/error.ts","api/request.ts","api/utils.ts","entries/shopping-cart/store/slices/productReducer.ts","api/shop.ts","entries/shopping-cart/store/slices/shopCartReducer.ts","entries/shopping-cart/store/index.ts","entries/shopping-cart/store/hooks.ts","entries/shopping-cart/components/Loader.tsx","webpack://train-ts/./src/entries/shopping-cart/components/SizeBar/index.module.less?835e","entries/shopping-cart/components/SizeBar/index.tsx","entries/shopping-cart/utils/index.ts","entries/shopping-cart/components/LazyImage/index.tsx","webpack://train-ts/./src/entries/shopping-cart/components/Product/index.module.less?9296","entries/shopping-cart/components/Product/index.tsx","webpack://train-ts/./src/entries/shopping-cart/components/Products/index.module.less?e94f","entries/shopping-cart/components/Products/index.tsx","webpack://train-ts/./src/entries/shopping-cart/App.module.less?1512","webpack://train-ts/./src/entries/shopping-cart/components/CartButton/index.module.less?ead3","entries/shopping-cart/components/CartButton/index.tsx","webpack://train-ts/./src/entries/shopping-cart/components/CartPanel/index.module.less?53e2","entries/shopping-cart/components/CartPanel/index.tsx","entries/shopping-cart/App.tsx","entries/shopping-cart/index.tsx"],"sourcesContent":["/**\n * 用户友好，可呈现给用户的错误类型\n */\nexport class UserFriendlyError extends Error {\n  __USER_FRIENDLY__ = true;\n}\n\n/**\n * 接口响应业务异常\n * @extends UserFriendlyError\n */\nexport class ApiBusinessError extends UserFriendlyError {\n  name = \"ApiBusinessError\";\n\n  errcode: number;\n\n  data?: any;\n\n  config?: any;\n\n  errmsg: string;\n\n  constructor(message: string, code: number, data?: any, config?: any) {\n    super(message);\n\n    this.errcode = code;\n    this.data = data;\n    this.config = config;\n    // 兼容\n    this.errmsg = message;\n  }\n}\n\n/**\n * 接口响应网络异常\n * @extends UserFriendlyError\n */\nexport class ApiNetError extends UserFriendlyError {\n  name = \"ApiNetError\";\n\n  errcode: number;\n\n  errmsg: string;\n\n  constructor(message: string, code: number) {\n    super(message);\n\n    this.errcode = code; // 兼容\n    this.errmsg = message;\n  }\n}\n","/* eslint-disable import/no-anonymous-default-export */\nimport axios, {\n  AxiosInstance,\n  Canceler,\n  AxiosRequestConfig,\n  AxiosResponse,\n  AxiosError,\n} from \"axios\";\nimport qs from \"qs\";\nimport { ApiBusinessError, ApiNetError } from \"./error\";\nimport { showErrMsg } from \"./utils\";\n\nexport type RequestBaseConfig = {\n  bodyType?: \"formData\" | \"json\" | \"url\";\n  [key: string]: any;\n} & AxiosRequestConfig;\n\nexport type RequestInstanceConfig = RequestBaseConfig;\n\nconst defaultRequestInstanceConfig: RequestBaseConfig = {};\n\nexport type SourceResponse<T> = AxiosResponse<T>;\n\nexport class Request<P = {}, D = {}, R = {}> {\n  private config: RequestBaseConfig;\n\n  private axiosInstance: AxiosInstance;\n\n  // private hookConfig: HookConfig;\n\n  private canceler?: Canceler;\n\n  constructor(axiosInstance: AxiosInstance, config: RequestInstanceConfig) {\n    const baseConfig = {\n      ...defaultRequestInstanceConfig,\n      ...config,\n    };\n\n    this.config = baseConfig;\n    // this.hookConfig = {\n    //   onSuccess,\n    //   onError\n    // };\n    this.axiosInstance = axiosInstance;\n  }\n\n  /**\n   * 同Promise.then\n   * @returns {this}\n   */\n  then<T1 = R, T2 = never>(\n    onFullfilled: ((res: R) => T1 | PromiseLike<T1>) | undefined | null,\n    onReject?: ((e: any) => T2 | PromiseLike<T2>) | null | undefined\n  ): Promise<T1 | T2> {\n    // @ts-ignore\n    return this.send().then(onFullfilled, onReject);\n  }\n\n  /**\n   * 同Promise.catch\n   * @returns {this}\n   */\n  catch<T>(onReject: (e: Error) => any): Promise<T> {\n    return this.send().then(null, onReject);\n  }\n\n  /**\n   * 中断当前请求\n   * @returns {this}\n   */\n  cancel(): this {\n    if (this.canceler) {\n      this.canceler();\n    }\n\n    return this;\n  }\n\n  /**\n   * 追加url参数\n   * @param params - 数据\n   * @returns {this}\n   */\n  appendParams(params: { [k in keyof P]?: P[k] }) {\n    this.config.params = {\n      ...this.config.params,\n      ...params,\n    };\n\n    return this;\n  }\n\n  /**\n   * 设置url参数数据\n   * @param params - 数据\n   * @returns {this}\n   */\n  setParams(params: P) {\n    this.config.params = params;\n\n    return this;\n  }\n\n  /**\n   * 设置正文数据\n   * @param data - 数据\n   * @returns {this}\n   */\n  setData(data: D) {\n    this.config.data = data;\n\n    return this;\n  }\n\n  /**\n   * 设置配置参数\n   * @param config - 配置参数\n   * @returns {this}\n   */\n  setConfig(config: RequestBaseConfig) {\n    this.config = { ...this.config, ...config };\n\n    return this;\n  }\n\n  /**\n   * 设置 headers 参数\n   * @param headers - headers 参数\n   * @returns {this}\n   */\n  setHeaders(headers: RequestBaseConfig[\"headers\"]) {\n    this.config.headers = { ...this.config.headers, ...headers };\n\n    return this;\n  }\n\n  /**\n   * 追加正文数据\n   * @param data - 数据\n   * @returns {this}\n   */\n  appendData(data: { [k in keyof D]?: D[k] }) {\n    this.config.data = {\n      ...this.config.data,\n      ...data,\n    };\n\n    return this;\n  }\n\n  /**\n   * 发送请求\n   * @returns {this}\n   */\n  private send() {\n    this.cancel();\n    const { cancel, token } = axios.CancelToken.source();\n\n    this.config.cancelToken = token;\n    this.canceler = cancel;\n\n    if (!this.config.headers) {\n      this.config.headers = {};\n    }\n\n    const config = {\n      ...this.config,\n    };\n\n    if (\n      config.bodyType === \"formData\" &&\n      config.data instanceof window.FormData === false\n    ) {\n      const formData = new window.FormData();\n\n      Object.keys(config.data).forEach((key) => {\n        formData.append(key, config.data[key]);\n      });\n      config.data = formData;\n    } else if (config.bodyType === \"url\") {\n      config.data = qs.stringify(config.data);\n    }\n\n    delete config.bodyType;\n\n    return this.axiosInstance(config);\n  }\n}\n\nexport class Instantce {\n  axiosInstance: AxiosInstance;\n\n  requestInstanceConfig: RequestInstanceConfig;\n\n  constructor(\n    axiosInstance: AxiosInstance,\n    requestInstanceConfig: RequestInstanceConfig\n  ) {\n    this.axiosInstance = axiosInstance;\n    this.requestInstanceConfig = requestInstanceConfig;\n  }\n\n  get = <P = {}, R = AxiosResponse<{}>>(\n    url: string,\n    config?: RequestBaseConfig\n  ) => {\n    return new Request<P, {}, R>(this.axiosInstance, {\n      method: \"get\",\n      url,\n      ...this.requestInstanceConfig,\n      ...config,\n    });\n  };\n\n  post = <D = {}, R = AxiosResponse<{}>>(\n    url: string,\n    config?: RequestBaseConfig\n  ) => {\n    return new Request<{}, D, R>(this.axiosInstance, {\n      method: \"post\",\n      url,\n      ...this.requestInstanceConfig,\n      ...config,\n    });\n  };\n\n  put = <D = {}, R = AxiosResponse<{}>>(\n    url: string,\n    config?: RequestBaseConfig\n  ) => {\n    return new Request<{}, D, R>(this.axiosInstance, {\n      method: \"put\",\n      url,\n      ...this.requestInstanceConfig,\n      ...config,\n    });\n  };\n\n  delete = <P = {}, R = AxiosResponse<{}>>(\n    url: string,\n    config?: RequestBaseConfig\n  ) => {\n    return new Request<P, {}, R>(this.axiosInstance, {\n      method: \"delete\",\n      url,\n      ...this.requestInstanceConfig,\n      ...config,\n    });\n  };\n\n  interceptor = {\n    req: (func: (req: AxiosRequestConfig) => any) => {\n      this.axiosInstance.interceptors.request.use(func);\n    },\n    res: (func: (res: AxiosResponse<any>) => any) => {\n      this.axiosInstance.interceptors.response.use(func);\n    },\n    error: (func: (err: AxiosError<any>) => any) => {\n      this.axiosInstance.interceptors.response.use(undefined, func);\n    },\n  };\n}\n\nfunction createInstance(requestInstanceConfig: RequestInstanceConfig = {}) {\n  const { ...axiosConfig } = requestInstanceConfig;\n\n  return new Instantce(axios.create(axiosConfig), requestInstanceConfig);\n}\n\ntype InstanceResponse = AxiosResponse & {\n  config: RequestInstanceConfig;\n};\ntype InstanceError = AxiosError & {\n  config: RequestInstanceConfig;\n};\n\nconst instance = createInstance({\n  // withCredentials: true,\n  baseURL: \"https://www.fastmock.site\",\n});\n\n// 自定义request拦截器\ninstance.interceptor.req((config) => {\n  const headers = {\n    ...config.headers,\n  };\n  Object.keys(headers).forEach((key) => {\n    if (headers[key] === undefined) delete headers[key];\n  });\n\n  return {\n    ...config,\n    headers,\n  };\n});\n\n// 自定义response拦截器，\n// 注意：如果修改接口正常返回的结构，对应的response声明需要修改\ninstance.interceptor.res((r) => {\n  const { data, config } = r as InstanceResponse;\n\n  if (config.notCheckCode || data.code === 200) {\n    return data;\n  }\n\n  if (config.showError ?? true) {\n    showErrMsg(data.desc);\n  }\n\n  return Promise.reject(\n    new ApiBusinessError(data.desc, data.code, data, config)\n  );\n});\n\n// 自定义异常拦截器\ninstance.interceptor.error((error) => {\n  if (error instanceof ApiBusinessError) {\n    return Promise.reject(error);\n  }\n  const { response, config = {} } = error as InstanceError;\n\n  let errmsg = \"请求失败，请稍后再试\";\n  let errcode = -255;\n\n  if (response) {\n    const { status } = response;\n\n    errcode = status;\n    switch (status) {\n      case 0:\n        errmsg = `请求失败，请检查网络:${errcode}`;\n        break;\n      case 404:\n        errmsg = `您请求的地址不存在:${errcode}`;\n        break;\n      default:\n        errmsg = `服务异常，请稍后再试:${errcode}`;\n    }\n  } else {\n    errmsg = \"请求失败，请检查网络\";\n  }\n\n  if (config.showError ?? true) {\n    showErrMsg(errmsg);\n  }\n\n  return Promise.reject(new ApiNetError(errmsg, errcode));\n});\n\nexport default instance;\n","import { notification } from \"antd\";\n\nexport function showErrMsg(msg: string, title?: string) {\n  //   alert(msg);\n  notification.error({\n    top: 80,\n    message: title || \"请求错误\",\n    description: `原因：${msg}`,\n  });\n}\n","import { getProducts, Product, Size } from \"@/api/shop\";\nimport {\n  createSlice,\n  SliceCaseReducers,\n  createAsyncThunk,\n} from \"@reduxjs/toolkit\";\nimport { enableMapSet } from \"immer\";\n\nenableMapSet();\n\nexport type ProductItem = Omit<Product, \"availableSizes\"> & {\n  availableSizes: Array<Size>;\n  img1: string;\n  img2: string;\n};\n\nexport interface CartProduct extends Product {\n  quantity: number;\n}\n// export type SizeMap = Record<Size, boolean>;\nexport type SizeMap = Record<string, boolean>[];\n\nexport interface ProductState {\n  products: ProductItem[];\n  sizes: Set<Size>;\n  // sizeMap: SizeMap;\n  allSize: Size[];\n  allProducts: ProductItem[];\n  loading: boolean;\n}\nconst PUBLIC_URL = process.env.PUBLIC_URL;\n\nexport const requestProducts = createAsyncThunk(\n  `product/requestProducts`,\n  //发出一个请求，这里用的是axios\n  // async (params) => await services.testApi(params),\n  async (sizes: Set<Size>) => {\n    const res = await getProducts();\n\n    return new Promise<ProductItem[]>((resolve) => {\n      setTimeout(() => {\n        resolve(\n          res.data.products\n            .filter(\n              (item) =>\n                sizes.size === 0 || intersection(sizes, item.availableSizes)\n            )\n            .map(({ sku, availableSizes, ...rest }) => ({\n              ...rest,\n              img1: `${PUBLIC_URL}/shop-static/products/${sku}-1-product.webp`,\n              img2: `${PUBLIC_URL}/shop-static/products/${sku}-2-product.webp`,\n              sku,\n              availableSizes: Array.from(new Set(availableSizes)),\n            }))\n        );\n      }, 1000);\n    });\n  }\n);\n\n// function intersection(set1: Array<Size>, set2: Array<Size>): boolean {\n//   return set1.length + set2.length === new Set([...set1, ...set2]).size;\n// }\nfunction intersection(set1: Set<Size>, set2: Array<Size>): boolean {\n  return set2.some((item) => set1.has(item));\n}\nconst allSize = [\"XS\", \"S\", \"M\", \"ML\", \"L\", \"XL\", \"XXL\"] as Array<Size>;\n\n// const initSizeMap = allSize.reduce(\n//   (pre, item) => [...pre, { [item]: true }],\n//   [] as SizeMap\n// );\nexport const productSlice = createSlice<\n  ProductState,\n  SliceCaseReducers<ProductState>\n>({\n  name: \"product\",\n  initialState: {\n    sizes: new Set([]),\n    // sizeMap: initSizeMap,\n    allSize: allSize,\n    products: [],\n    allProducts: [],\n    loading: false,\n  },\n  reducers: {\n    // setAllProducts: (state, { payload }) => {\n    //   state.allProducts = payload;\n    // },\n    setSizes: (state, action) => {\n      console.log({ action });\n      const { payload } = action;\n      if (state.sizes.has(payload)) {\n        state.sizes.delete(payload);\n      } else {\n        state.sizes.add(payload);\n      }\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(requestProducts.pending, (state, action) => {\n      state.loading = true;\n    });\n    // 接口请求返回\n    builder.addCase(requestProducts.fulfilled, (state, action) => {\n      state.loading = false;\n      state.allProducts = action.payload;\n      state.products = action.payload;\n    });\n    builder.addCase(requestProducts.rejected, (state, action) => {\n      state.loading = false;\n    });\n  },\n});\n\n// 导出actions\nexport const { setSizes } = productSlice.actions;\n","import request from \"./request\";\n\nexport type Size = \"XS\" | \"S\" | \"M\" | \"ML\" | \"L\" | \"XL\" | \"XXL\";\n\nexport interface Product {\n  availableSizes: Size[];\n  currencyFormat: string;\n  currencyId: string;\n  description: string;\n  id: number;\n  installments: number;\n  isFreeShipping: boolean;\n  price: number;\n  sku: number;\n  style: string;\n  title: string;\n}\n\nexport interface GetProductsRes {\n  data: {\n    products: Product[];\n  };\n}\n\nconst PUBLIC_URL = process.env.PUBLIC_URL;\n\nexport function getProducts() {\n  return request\n    .get<any, GetProductsRes>(`/shop-static/json/products.json`)\n    .setConfig({\n      baseURL: `${PUBLIC_URL}`,\n      notCheckCode: true,\n    });\n}\n","import { createSlice, SliceCaseReducers } from \"@reduxjs/toolkit\";\nimport { ProductItem } from \"./productReducer\";\n\nexport interface CartProduct extends ProductItem {\n  quantity: number;\n}\n\nexport interface ShopCartState {\n  carts: CartProduct[];\n  count: number;\n  totalPrice: number;\n  totalInstallments: number;\n  totalCurrencyFormat: string;\n}\n\nconst getInstallments = (list: ShopCartState[\"carts\"]) =>\n  list.reduce((greater, product) => {\n    greater = product.installments > greater ? product.installments : greater;\n    return greater;\n  }, 0);\nexport const shopCartSlice = createSlice<\n  ShopCartState,\n  SliceCaseReducers<ShopCartState>\n>({\n  name: \"shopCart\",\n  initialState: {\n    carts: [],\n    count: 0,\n    totalPrice: 0,\n    totalInstallments: 0,\n    totalCurrencyFormat: \"\",\n  },\n  reducers: {\n    addProduct: (state, { payload }) => {\n      const productAlreadyInCart = state.carts.find(\n        (product: CartProduct) => payload.id === product.id\n      );\n\n      if (productAlreadyInCart) {\n        productAlreadyInCart.quantity += 1;\n      } else {\n        state.carts.push({ ...payload, quantity: 1 });\n        state.totalInstallments =\n          state.totalInstallments > payload.installments\n            ? state.totalInstallments\n            : payload.installments;\n        state.totalCurrencyFormat =\n          state.totalCurrencyFormat || payload.currencyFormat;\n      }\n      state.totalPrice += payload.price;\n      state.count += 1;\n    },\n    subtractProduct: (state, { payload }) => {\n      let descPrice = 0;\n      const list = state.carts.filter((item) => {\n        const isDel = item.id === payload.id;\n\n        if (isDel) {\n          state.count -= item.quantity;\n          descPrice += item.quantity * item.price;\n          item.quantity = 0;\n        }\n        return !isDel;\n      });\n      state.carts = list;\n      state.totalInstallments = getInstallments(list);\n      state.totalPrice -= descPrice;\n    },\n    subtractQuantity: (state, { payload }) => {\n      const productAlreadyInCart = state.carts.find(\n        (product: CartProduct) => payload.id === product.id\n      );\n      if (productAlreadyInCart && productAlreadyInCart.quantity > 1) {\n        productAlreadyInCart.quantity -= 1;\n        state.totalPrice -= productAlreadyInCart.price;\n        state.count -= 1;\n      }\n    },\n    deleteAll: (state) => {\n      state.carts = [];\n      state.count = 0;\n      state.totalPrice = 0;\n      state.totalInstallments = 0;\n    },\n  },\n});\n\n// 导出actions\nexport const { addProduct, subtractProduct, subtractQuantity, deleteAll } =\n  shopCartSlice.actions;\n","import {\n  configureStore,\n  ThunkAction,\n  Action,\n  combineReducers,\n} from \"@reduxjs/toolkit\";\n\nimport { persistStore, persistReducer } from \"redux-persist\";\nimport storage from \"redux-persist/lib/storage\";\nimport { productSlice } from \"./slices/productReducer\";\nimport { shopCartSlice } from \"./slices/shopCartReducer\";\nexport { PersistGate } from \"redux-persist/integration/react\";\n\nconst persistConfig = {\n  key: \"root\",\n  storage: storage,\n  whitelist: [\"shopCart\"], // 需要缓存的白名单,不设置则全部缓存\n};\n\nconst rootReducer = combineReducers({\n  shopCart: shopCartSlice.reducer,\n  product: productSlice.reducer,\n});\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\n\nexport const store = configureStore({\n  reducer: persistedReducer,\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware({\n      serializableCheck: false,\n    }),\n  // getDefaultMiddleware({\n  //   serializableCheck: {\n  //     ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n  //   },\n  // }),\n});\n\nexport const persistedStore = persistStore(store);\n\nexport type AppDispatch = typeof store.dispatch;\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppThunk<ReturnType = void> = ThunkAction<\n  ReturnType,\n  RootState,\n  unknown,\n  Action<string>\n>;\n","import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\nimport type { RootState, AppDispatch } from './index';\n\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n","import { memo } from \"react\";\n\ninterface Props {\n  isLoading: boolean;\n  className?: string;\n}\nconst Loader = (props: Props) => {\n  const { isLoading, className = \"\" } = props;\n\n  if (isLoading) {\n    return <i className={`${className} fa fa-spinner fa-spin fa-2x fa-fw`} />;\n  }\n  return null;\n};\n\nexport default memo(Loader);\n","// extracted by mini-css-extract-plugin\nexport default {\"index\":\"index_index__uTPYw\",\"title\":\"index_title__ePUXR\",\"sizes\":\"index_sizes__+gPb7\",\"size\":\"index_size__iZ5Km\",\"checked\":\"index_checked__BGjMN\",\"notChecked\":\"index_notChecked__9XFJJ\"};","import { Size } from \"@/api/shop\";\nimport classNames from \"classnames\";\nimport { memo, useCallback } from \"react\";\nimport styles from \"./index.module.less\";\n\ninterface Props {\n  sizes: Size[];\n  checked: Set<Size>;\n  onSizeChange: (size: Size) => any;\n}\n\nfunction SizeBar(props: Props) {\n  const { sizes, checked, onSizeChange } = props;\n\n  const handleSizeChange = useCallback(\n    (e: any) => {\n      const { size } = e.target.dataset;\n\n      console.log({ size });\n\n      if (size) {\n        onSizeChange(size);\n      }\n    },\n    [onSizeChange]\n  );\n\n  return (\n    <nav className={styles.index}>\n      <h3 className={styles.title}>Sizes:</h3>\n      <div className={styles.sizes} onClick={handleSizeChange}>\n        {sizes.map((item) => (\n          <div\n            key={item}\n            data-size={item}\n            className={classNames(\n              styles.size,\n              checked.has(item) ? styles.checked : styles.notChecked\n            )}\n          >\n            {item}\n          </div>\n        ))}\n      </div>\n    </nav>\n  );\n}\n\nexport default memo(SizeBar);\n","import numeral from \"numeral\";\n\nexport const formatPrice = (price: number) => {\n  return numeral(price).format(\"0,0.00\");\n};\n","/* eslint-disable jsx-a11y/alt-text */\r\nimport { memo } from \"react\";\r\nimport cn from \"classnames\";\r\nimport \"./index.less\";\r\n/** https://github.com/aFarkas/lazysizes */\r\nimport \"lazysizes\";\r\nimport \"lazysizes/plugins/parent-fit/ls.parent-fit\";\r\n\r\ninterface Props {\r\n  src: string;\r\n  defaultSrc?: string;\r\n  lazy?: boolean;\r\n  [key: string]: any;\r\n}\r\n\r\nconst placeholder = require(\"./loading.gif\");\r\n\r\nfunction LazyImage(props: Props) {\r\n  const {\r\n    src,\r\n    srcSet,\r\n    className,\r\n    lazy = true,\r\n    defaultSrc = placeholder,\r\n    ...rest\r\n  } = props;\r\n\r\n  return (\r\n    <img\r\n      src={defaultSrc}\r\n      data-src={src}\r\n      data-srcset={srcSet}\r\n      {...rest}\r\n      className={cn(className, { lazyload: lazy })}\r\n    />\r\n  );\r\n}\r\n\r\nexport default memo(LazyImage);\r\n","// extracted by mini-css-extract-plugin\nexport default {\"index\":\"index_index__PD2BB\",\"bg2\":\"index_bg2__JnRj+\",\"bg1\":\"index_bg1__7bb+N\",\"btn\":\"index_btn__1iCJF\",\"bg\":\"index_bg__n5UJc\",\"free\":\"index_free__K1E5V\",\"title\":\"index_title__0+tMx\",\"price\":\"index_price__+ykzx\",\"num1\":\"index_num1__4Pub2\",\"num2\":\"index_num2__syfHo\",\"installments\":\"index_installments__83AZ8\",\"grow\":\"index_grow__nP8BB\",\"availableSizes\":\"index_availableSizes__Zio69\"};","import classNames from \"classnames\";\nimport { memo, useCallback, useMemo } from \"react\";\nimport { ProductItem } from \"../../store/slices/productReducer\";\nimport { formatPrice } from \"../../utils\";\nimport LazyImage from \"../LazyImage\";\nimport styles from \"./index.module.less\";\n\ninterface Props {\n  className?: string;\n  data: ProductItem;\n  onAddToCart?: any;\n}\n\nfunction Products(props: Props) {\n  const { className, data, onAddToCart } = props;\n  const {\n    title,\n    price,\n    installments,\n    currencyFormat,\n    isFreeShipping,\n    img1,\n    img2,\n    availableSizes,\n  } = data;\n  const [num1, num2] = useMemo(() => formatPrice(price).split(\".\"), [price]);\n\n  const handleClick = useCallback(() => {\n    onAddToCart && onAddToCart(data);\n  }, [data, onAddToCart]);\n  return (\n    <div className={classNames(className, styles.index)}>\n      {isFreeShipping && <div className={styles.free}>Free shipping</div>}\n      <div\n        className={classNames(styles.bg, styles.bg1, \"h-[270px] sm:h-[320px]\")}\n      >\n        <LazyImage src={img1} />\n      </div>\n      <div\n        className={classNames(styles.bg, styles.bg2, \"h-[270px] sm:h-[320px]\")}\n      >\n        <LazyImage src={img2} />\n      </div>\n      <div className={styles.title}>{title}</div>\n      <div className={styles.price}>\n        {currencyFormat}\n        <span className={styles.num1}>{num1}</span>\n        <span className={styles.num2}>.{num2}</span>\n      </div>\n      <div className={styles.availableSizes}>\n        {availableSizes.map((item) => (\n          <span key={item}>{item}</span>\n        ))}\n      </div>\n      {!!installments && (\n        <div className={styles.installments}>\n          or {installments} x\n          <span>\n            {currencyFormat}\n            {formatPrice(price / installments)}\n          </span>\n        </div>\n      )}\n      <div className={styles.grow} />\n      <button className={styles.btn} onClick={handleClick}>\n        Add to cart\n      </button>\n    </div>\n  );\n}\n\nexport default memo(Products);\n","// extracted by mini-css-extract-plugin\nexport default {\"index\":\"index_index__PIAue\",\"count\":\"index_count__ul1tP\"};","import classNames from \"classnames\";\nimport { memo } from \"react\";\nimport { RootState } from \"../../store\";\nimport Product from \"../Product\";\nimport styles from \"./index.module.less\";\n\ninterface Props {\n  className?: string;\n  list: RootState[\"product\"][\"products\"];\n  onAddToCart?: any;\n}\nfunction Products(props: Props) {\n  const { className, list, onAddToCart } = props;\n  return (\n    <div className={classNames(className, styles.index)}>\n      <div className={styles.count}>{list.length} Product(s) found</div>\n      {list.map((item) => (\n        <Product key={item.sku} data={item} onAddToCart={onAddToCart} />\n      ))}\n    </div>\n  );\n}\n\nexport default memo(Products);\n","// extracted by mini-css-extract-plugin\nexport default {\"app\":\"App_app__TJ6Dh\",\"products\":\"App_products__SljRF\",\"loading\":\"App_loading__IHRX8\"};","// extracted by mini-css-extract-plugin\nexport default {\"cartBtn\":\"index_cartBtn__MtI7g\",\"badge\":\"index_badge__Fl6mi\"};","import { Badge } from \"antd\";\nimport classNames from \"classnames\";\nimport { memo } from \"react\";\nimport styles from \"./index.module.less\";\n\ninterface Props {\n  className?: string;\n  count: number;\n  onClick?: any;\n}\n\nfunction CartButton(props: Props) {\n  const { count, onClick, className } = props;\n  return (\n    <div className={classNames(styles.cartBtn, className)} onClick={onClick}>\n      <Badge\n        showZero\n        className={styles.badge}\n        count={count}\n        style={{ backgroundColor: \"rgb(234, 191, 0)\" }}\n      />\n    </div>\n  );\n}\n\nexport default memo(CartButton);\n","// extracted by mini-css-extract-plugin\nexport default {\"cartBtn\":\"index_cartBtn__8IE+K\",\"content\":\"index_content__707Lv\",\"cartButton\":\"index_cartButton__7lt6w\",\"closeBtn\":\"index_closeBtn__vbbby\",\"cartButton2Wrap\":\"index_cartButton2Wrap__k4j8N\",\"cartButton2\":\"index_cartButton2__uCpp3\",\"show\":\"index_show__yONgR\",\"cartList\":\"index_cartList__E6hTr\",\"empty\":\"index_empty__7IErp\",\"cartItem\":\"index_cartItem__fmtJb\",\"img\":\"index_img__Zu63g\",\"desc\":\"index_desc__wRBLl\",\"btnWrap\":\"index_btnWrap__5bpyN\",\"btn\":\"index_btn__E6pw0\",\"delBtn\":\"index_delBtn__jchhS\",\"panelBottom\":\"index_panelBottom__e+dB9\",\"textWrap\":\"index_textWrap__l1gqh\",\"text\":\"index_text__m28c9\",\"price\":\"index_price__N-hH9\",\"first\":\"index_first__oBTmN\",\"last\":\"index_last__eB17T\",\"checkBtn\":\"index_checkBtn__i+LLD\"};","import { Modal } from \"antd\";\nimport classNames from \"classnames\";\nimport { memo, useCallback } from \"react\";\nimport { useAppDispatch } from \"../../store/hooks\";\nimport {\n  addProduct,\n  ShopCartState,\n  subtractProduct,\n  subtractQuantity,\n  deleteAll,\n} from \"../../store/slices/shopCartReducer\";\nimport { formatPrice } from \"../../utils\";\nimport CartButton from \"../CartButton\";\nimport styles from \"./index.module.less\";\n\ninterface Props {\n  list: ShopCartState[\"carts\"];\n  count: number;\n  totalPrice: number;\n  totalInstallments: number;\n  totalCurrencyFormat: string;\n  isExpand: boolean;\n  onClose?: any;\n  onExpand?: any;\n}\n\nfunction CartPanel(props: Props) {\n  const {\n    count,\n    onClose,\n    onExpand,\n    isExpand,\n    list,\n    totalPrice,\n    totalCurrencyFormat,\n    totalInstallments,\n  } = props;\n\n  const dispatch = useAppDispatch();\n  const handleClearAll = useCallback(() => {\n    Modal.confirm({\n      title: \"确认购买当前购物车的商品?\",\n\n      content: `Checkout - Subtotal: $ ${formatPrice(totalPrice)}`,\n      okText: \"确认\",\n      onOk() {\n        dispatch(deleteAll({}));\n      },\n      cancelText: \"再想想\",\n      onCancel() {\n        console.log(\"Cancel\");\n      },\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [totalPrice]);\n  const handleSubtractProduct = useCallback((item: any) => {\n    dispatch(subtractProduct(item));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const handleSubtractQuantity = useCallback((item: any) => {\n    dispatch(subtractQuantity(item));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const handleAddProduct = useCallback((item: any) => {\n    dispatch(addProduct(item));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return (\n    <div\n      className={classNames(styles.cartBtn, {\n        [styles.show]: isExpand,\n      })}\n    >\n      <CartButton\n        className={styles.cartButton}\n        count={count}\n        onClick={onExpand}\n      />\n      <button className={styles.closeBtn} onClick={onClose}>\n        X\n      </button>\n      <main className={styles.content}>\n        <div className={styles.cartButton2Wrap}>\n          <CartButton\n            className={styles.cartButton2}\n            count={count}\n            onClick={onExpand}\n          />\n          <span>Cart</span>\n        </div>\n        <div className={styles.cartList}>\n          {list.map((item) => (\n            <div key={item.sku} className={styles.cartItem}>\n              <img className={styles.img} src={item.img1} alt={item.title} />\n              <div className={styles.desc}>\n                <div>{item.title}</div>\n                <div>\n                  {`${item.availableSizes[0]} | ${item.style}`} <br />\n                  Quantity: {item.quantity}\n                </div>\n              </div>\n              <div className={styles.btnWrap}>\n                <div>{`${item.currencyFormat}  ${formatPrice(\n                  item.price\n                )}`}</div>\n                <div>\n                  <button\n                    className={styles.btn}\n                    disabled={item.quantity <= 1}\n                    onClick={() => handleSubtractQuantity(item)}\n                  >\n                    -\n                  </button>\n                  <button\n                    className={styles.btn}\n                    onClick={() => handleAddProduct(item)}\n                  >\n                    +\n                  </button>\n                </div>\n              </div>\n              <button\n                className={styles.delBtn}\n                onClick={() => handleSubtractProduct(item)}\n              />\n            </div>\n          ))}\n          {list.length === 0 && (\n            <div className={styles.empty}>\n              Add some products in the cart <br />\n              :)\n            </div>\n          )}\n        </div>\n      </main>\n      <div className={styles.panelBottom}>\n        <div className={styles.textWrap}>\n          <div className={styles.text}>SUBTOTAL</div>\n          <div className={styles.price}>\n            <div className={styles.first}>{`$  ${formatPrice(\n              totalPrice || 0\n            )}`}</div>\n            {!!totalInstallments && (\n              <div className={styles.last}>\n                {`OR UP TO ${totalInstallments} x ${totalCurrencyFormat} ${formatPrice(\n                  totalPrice / totalInstallments\n                )}`}\n              </div>\n            )}\n          </div>\n        </div>\n        <button\n          className={styles.checkBtn}\n          disabled={!count}\n          onClick={handleClearAll}\n        >\n          Checkout\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default memo(CartPanel);\n","import { useCallback, useEffect, useState } from \"react\";\nimport {\n  ProductItem,\n  requestProducts,\n  setSizes,\n} from \"./store/slices/productReducer\";\nimport { useAppDispatch, useAppSelector } from \"./store/hooks\";\nimport Loader from \"./components/Loader\";\nimport SizeBar from \"./components/SizeBar\";\nimport { Size } from \"@/api/shop\";\nimport Products from \"./components/Products\";\nimport styles from \"./App.module.less\";\nimport { addProduct } from \"./store/slices/shopCartReducer\";\nimport CartPanel from \"./components/CartPanel\";\n\nexport default function App() {\n  const { shopCart, product } = useAppSelector((state) => state);\n  const { loading, products, sizes, allSize } = product;\n  const { carts, count, totalPrice, totalCurrencyFormat, totalInstallments } =\n    shopCart;\n  const [isExpand, setIsExpand] = useState(false);\n\n  const dispatch = useAppDispatch();\n\n  useEffect(() => {\n    dispatch(requestProducts(sizes));\n  }, [dispatch, sizes]);\n\n  const handleSizeChange = useCallback((size: Size) => {\n    dispatch(setSizes(size));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const handleAddToCart = useCallback((item: ProductItem) => {\n    dispatch(addProduct(item));\n    setIsExpand(true);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const handleClose = useCallback(() => setIsExpand(false), []);\n  const handleExpand = useCallback(() => setIsExpand(true), []);\n\n  return (\n    <div className={styles.app}>\n      <Loader className={styles.loading} isLoading={loading} />\n      <SizeBar\n        sizes={allSize}\n        checked={sizes}\n        onSizeChange={handleSizeChange}\n      />\n      <Products\n        className={styles.products}\n        list={products}\n        onAddToCart={handleAddToCart}\n      />\n      <CartPanel\n        isExpand={isExpand}\n        onClose={handleClose}\n        onExpand={handleExpand}\n        count={count}\n        totalPrice={totalPrice}\n        totalCurrencyFormat={totalCurrencyFormat}\n        totalInstallments={totalInstallments}\n        list={carts}\n      />\n    </div>\n  );\n}\n","import ReactDOM from \"react-dom/client\";\r\nimport { Provider } from \"react-redux\";\r\nimport { store, persistedStore, PersistGate } from \"./store\";\r\n\r\nimport App from \"./App\";\r\n\r\nimport \"./index.less\";\r\nimport Loader from \"./components/Loader\";\r\n\r\nconst root = ReactDOM.createRoot(\r\n  document.getElementById(\"root\") as HTMLElement\r\n);\r\nroot.render(\r\n  // <React.StrictMode>\r\n  <Provider store={store}>\r\n    <PersistGate\r\n      loading={\r\n        <Loader\r\n          className=\"fixed top-0 bottom-0 left-0 right-0 m-auto flex items-center justify-center\"\r\n          isLoading\r\n        />\r\n      }\r\n      persistor={persistedStore}\r\n    >\r\n      <App />\r\n    </PersistGate>\r\n  </Provider>\r\n  // </React.StrictMode>\r\n);\r\n"],"names":["UserFriendlyError","__USER_FRIENDLY__","Error","ApiBusinessError","message","code","data","config","name","errcode","errmsg","ApiNetError","defaultRequestInstanceConfig","Request","axiosInstance","canceler","baseConfig","this","onFullfilled","onReject","send","then","params","headers","cancel","axios","token","cancelToken","bodyType","window","FormData","formData","Object","keys","forEach","key","append","qs","Instantce","requestInstanceConfig","get","url","method","post","put","delete","interceptor","req","func","interceptors","request","use","res","response","error","undefined","instance","axiosConfig","createInstance","baseURL","r","notCheckCode","showError","showErrMsg","desc","Promise","reject","status","msg","title","notification","top","description","enableMapSet","PUBLIC_URL","process","requestProducts","createAsyncThunk","sizes","setConfig","resolve","setTimeout","products","filter","item","size","set1","availableSizes","some","has","map","sku","rest","img1","img2","Array","from","Set","productSlice","createSlice","initialState","allSize","allProducts","loading","reducers","setSizes","state","action","console","log","payload","add","extraReducers","builder","addCase","pending","fulfilled","rejected","actions","shopCartSlice","carts","count","totalPrice","totalInstallments","totalCurrencyFormat","addProduct","productAlreadyInCart","find","product","id","quantity","push","installments","currencyFormat","price","subtractProduct","descPrice","list","isDel","reduce","greater","getInstallments","subtractQuantity","deleteAll","persistConfig","storage","whitelist","rootReducer","combineReducers","shopCart","reducer","persistedReducer","persistReducer","store","configureStore","middleware","getDefaultMiddleware","serializableCheck","persistedStore","persistStore","useAppDispatch","useDispatch","useAppSelector","useSelector","Loader","props","isLoading","className","memo","SizeBar","checked","onSizeChange","handleSizeChange","useCallback","e","target","dataset","styles","onClick","classNames","formatPrice","numeral","format","placeholder","require","LazyImage","src","srcSet","lazy","defaultSrc","cn","lazyload","Products","onAddToCart","isFreeShipping","useMemo","split","num1","num2","handleClick","length","Product","CartButton","showZero","style","backgroundColor","CartPanel","onClose","onExpand","isExpand","dispatch","handleClearAll","Modal","content","okText","onOk","cancelText","onCancel","handleSubtractProduct","handleSubtractQuantity","handleAddProduct","alt","disabled","App","useState","setIsExpand","useEffect","handleAddToCart","handleClose","handleExpand","ReactDOM","document","getElementById","render","persistor"],"sourceRoot":""}
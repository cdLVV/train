"use strict";(self.webpackChunktrain_ts=self.webpackChunktrain_ts||[]).push([[200],{1559:function(e,n,t){t.d(n,{w:function(){return u},y:function(){return c}});var r=t(1413),s=t(9439),i=t(1594),a=t(95);function o(e,n){return"".concat(e,"?").concat(function(e){return Object.entries(e).reduce((function(e,n){var t=(0,s.Z)(n,2),r=t[0],i=t[1];return"".concat(e).concat(e?"&":"").concat(r,"=").concat(i)}),"")}(n))}function c(){var e,n={},t=Promise.resolve().then((function(){return new Promise((function(n,t){var r=new XMLHttpRequest;function s(){if(r){var e;try{e="string"===typeof r.response?JSON.parse(r.response):r.response}catch(t){e=r.response}n(e),r=null}}r.open("GET",o("https://api.github.com/search/repositories",e),!0),r.responseType="json","setRequestHeader"in r&&r.setRequestHeader("Accept","application/json, text/plain, */*"),"onloadend"in r?r.onloadend=s:r.onreadystatechange=function(){r&&4===r.readyState&&(0!==r.status||r.responseURL&&0===r.responseURL.indexOf("file:"))&&setTimeout(s)},r.onabort=function(){r&&(t(new Error("Request aborted")),r=null)},r.onerror=function(){t(new Error("Network Error")),r=null},r.ontimeout=function(){t(new Error("timeout")),r=null},r.send()}))}));return t.setParams=function(n){return e=n,t},t.setConfig=function(e){return n=(0,r.Z)((0,r.Z)({},n),e),t},t.catch((function(e){var t;(null===(t=n.showError)||void 0===t||t)&&(0,a.X)((null===e||void 0===e?void 0:e.message)||"\u8bf7\u6c42\u51fa\u9519\u4e86")})),t}function u(e){return i.ZP.get("/users/".concat(e)).setConfig({baseURL:"https://api.github.com",notCheckCode:!0})}},1594:function(e,n,t){t.d(n,{ZP:function(){return y}});var r=t(1413),s=t(5671),i=t(3144),a=t(4569),o=t.n(a),c=t(2808),u=t.n(c),f=t(136),l=t(7277),d=function(e){(0,f.Z)(t,e);var n=(0,l.Z)(t);function t(){var e;(0,s.Z)(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=n.call.apply(n,[this].concat(i))).__USER_FRIENDLY__=!0,e}return(0,i.Z)(t)}((0,t(8737).Z)(Error)),h=function(e){(0,f.Z)(t,e);var n=(0,l.Z)(t);function t(e,r,i,a){var o;return(0,s.Z)(this,t),(o=n.call(this,e)).name="ApiBusinessError",o.errcode=void 0,o.data=void 0,o.config=void 0,o.errmsg=void 0,o.errcode=r,o.data=i,o.config=a,o.errmsg=e,o}return(0,i.Z)(t)}(d),p=function(e){(0,f.Z)(t,e);var n=(0,l.Z)(t);function t(e,r){var i;return(0,s.Z)(this,t),(i=n.call(this,e)).name="ApiNetError",i.errcode=void 0,i.errmsg=void 0,i.errcode=r,i.errmsg=e,i}return(0,i.Z)(t)}(d),v=t(95),m={},g=function(){function e(n,t){(0,s.Z)(this,e),this.config=void 0,this.axiosInstance=void 0,this.canceler=void 0;var i=(0,r.Z)((0,r.Z)({},m),t);this.config=i,this.axiosInstance=n}return(0,i.Z)(e,[{key:"then",value:function(e,n){return this.send().then(e,n)}},{key:"catch",value:function(e){return this.send().then(null,e)}},{key:"cancel",value:function(){return this.canceler&&this.canceler(),this}},{key:"appendParams",value:function(e){return this.config.params=(0,r.Z)((0,r.Z)({},this.config.params),e),this}},{key:"setParams",value:function(e){return this.config.params=e,this}},{key:"setData",value:function(e){return this.config.data=e,this}},{key:"setConfig",value:function(e){return this.config=(0,r.Z)((0,r.Z)({},this.config),e),this}},{key:"setHeaders",value:function(e){return this.config.headers=(0,r.Z)((0,r.Z)({},this.config.headers),e),this}},{key:"appendData",value:function(e){return this.config.data=(0,r.Z)((0,r.Z)({},this.config.data),e),this}},{key:"send",value:function(){this.cancel();var e=o().CancelToken.source(),n=e.cancel,t=e.token;this.config.cancelToken=t,this.canceler=n,this.config.headers||(this.config.headers={});var s=(0,r.Z)({},this.config);if("formData"===s.bodyType&&s.data instanceof window.FormData===!1){var i=new window.FormData;Object.keys(s.data).forEach((function(e){i.append(e,s.data[e])})),s.data=i}else"url"===s.bodyType&&(s.data=u().stringify(s.data));return delete s.bodyType,this.axiosInstance(s)}}]),e}(),Z=(0,i.Z)((function e(n,t){var i=this;(0,s.Z)(this,e),this.axiosInstance=void 0,this.requestInstanceConfig=void 0,this.get=function(e,n){return new g(i.axiosInstance,(0,r.Z)((0,r.Z)({method:"get",url:e},i.requestInstanceConfig),n))},this.post=function(e,n){return new g(i.axiosInstance,(0,r.Z)((0,r.Z)({method:"post",url:e},i.requestInstanceConfig),n))},this.put=function(e,n){return new g(i.axiosInstance,(0,r.Z)((0,r.Z)({method:"put",url:e},i.requestInstanceConfig),n))},this.delete=function(e,n){return new g(i.axiosInstance,(0,r.Z)((0,r.Z)({method:"delete",url:e},i.requestInstanceConfig),n))},this.interceptor={req:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e){i.axiosInstance.interceptors.request.use(e)})),res:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e){i.axiosInstance.interceptors.response.use(e)})),error:function(e){i.axiosInstance.interceptors.response.use(void 0,e)}},this.axiosInstance=n,this.requestInstanceConfig=t}));var x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object.assign({},e);return new Z(o().create(n),e)}({baseURL:"https://www.fastmock.site"});x.interceptor.req((function(e){var n=(0,r.Z)({},e.headers);return Object.keys(n).forEach((function(e){void 0===n[e]&&delete n[e]})),(0,r.Z)((0,r.Z)({},e),{},{headers:n})})),x.interceptor.res((function(e){var n,t=e,r=t.data,s=t.config;return s.notCheckCode||200===r.code?r:((null===(n=s.showError)||void 0===n||n)&&(0,v.X)(r.desc),Promise.reject(new h(r.desc,r.code,r,s)))})),x.interceptor.error((function(e){var n;if(e instanceof h)return Promise.reject(e);var t=e,r=t.response,s=t.config,i=void 0===s?{}:s,a="\u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5",o=-255;if(r){var c=r.status;switch(o=c,c){case 0:a="\u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc:".concat(o);break;case 404:a="\u60a8\u8bf7\u6c42\u7684\u5730\u5740\u4e0d\u5b58\u5728:".concat(o);break;default:a="\u670d\u52a1\u5f02\u5e38\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5:".concat(o)}}else a="\u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc";return(null===(n=i.showError)||void 0===n||n)&&(0,v.X)(a),Promise.reject(new p(a,o))}));var y=x},95:function(e,n,t){t.d(n,{X:function(){return s}});var r=t(3085);function s(e,n){r.Z.error({top:80,message:n||"\u8bf7\u6c42\u9519\u8bef",description:"\u539f\u56e0\uff1a".concat(e)})}},7426:function(e,n,t){t.d(n,{Z:function(){return d}});var r=t(1413),s=t(4925),i=t(2791),a=t(1694),o=t.n(a),c=(t(2504),t(2664),t(184)),u=["src","srcSet","className","lazy","defaultSrc"],f=t(7800);function l(e){var n=e.src,t=e.srcSet,i=e.className,a=e.lazy,l=void 0===a||a,d=e.defaultSrc,h=void 0===d?f:d,p=(0,s.Z)(e,u);return(0,c.jsx)("img",(0,r.Z)((0,r.Z)({src:h,"data-src":n,"data-srcset":t},p),{},{className:o()(i,{lazyload:l})}))}var d=(0,i.memo)(l)},927:function(e,n,t){t.r(n),t.d(n,{default:function(){return E}});var r=t(5861),s=t(9439),i=t(7757),a=t.n(i),o=t(2752),c=t(501),u=t(6871),f=t(2791),l=t(7426),d="index_player__c7T6p",h="index_title__N2Tra",p="index_score__sAbVD",v="index_login__BuRmU",m="index_user__U2lUv",g=t(184);function Z(e){var n=e.title,t=e.data,r=t.avatar_url,s=t.location,i=t.following,a=t.followers,o=t.public_repos,c=t.login;return(0,g.jsxs)("div",{className:d,children:[(0,g.jsx)("div",{className:h,children:n}),(0,g.jsx)(l.Z,{src:r}),(0,g.jsxs)("div",{className:p,children:["Scores: ",o]}),(0,g.jsx)("div",{className:v,children:c}),(0,g.jsxs)("div",{className:m,children:[(0,g.jsxs)("div",{title:s,children:[(0,g.jsx)("i",{className:"fa fa-location-arrow",style:{color:"#ffbf74"}}),(0,g.jsx)("span",{children:s})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("i",{className:"fa fa-group",style:{color:"#ffd701"}}),(0,g.jsx)("span",{children:a})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("i",{className:"fa fa-user-plus",style:{color:"#8dc6f3"}}),(0,g.jsx)("span",{children:i})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("i",{className:"fa fa-code",style:{color:"#f18d95"}}),(0,g.jsx)("span",{children:o})]})]})]})}var x=(0,f.memo)(Z),y="index_index__mY8ti",w="index_players__888cv",_="index_btnWrap__KB8W6",j=t(1559),b="Winner",k="Loser",N="Tie";function C(){var e=(0,u.s0)(),n=(0,c.lr)(),t=(0,s.Z)(n,1)[0],i=t.get("name1")||"",l=t.get("name2")||"",d=(0,f.useState)(),h=(0,s.Z)(d,2),p=h[0],v=h[1],m=(0,f.useState)(),Z=(0,s.Z)(m,2),C=Z[0],E=Z[1],I=(0,f.useState)(!1),S=(0,s.Z)(I,2),T=S[0],q=S[1],P=(0,f.useCallback)((function(){e("/battle",{replace:!0})}),[e]);(0,f.useEffect)((function(){var e=function(){var e=(0,r.Z)(a().mark((function e(n){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(!0),e.next=3,(0,j.w)(n).setConfig({showError:!1});case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();Promise.all([e(i),e(l)]).then((function(e){var n=(0,s.Z)(e,2),t=n[0],r=n[1];v(t),E(r)})).catch((function(e){o.Z.confirm({title:"\u9519\u8bef",content:"\u672a\u627e\u5230Player\uff0c\u5c06\u8fd4\u56deBattle\u9875\u9762\u3002",onOk:P,okText:"\u8fd4\u56de",cancelText:"\u53d6\u6d88"})})).finally((function(){q(!1)}))}),[i,l]);var R=(0,f.useMemo)((function(){return p&&C?p.public_repos===C.public_repos?[N,N]:p.public_repos>C.public_repos?[b,k]:[k,b]:["",""]}),[p,C]),U=(0,s.Z)(R,2),D=U[0],L=U[1];return(0,g.jsxs)("div",{className:y,children:[T&&(0,g.jsx)("i",{className:"fa fa-spinner fa-spin fa-2x fa-fw"}),!!p&&!!C&&(0,g.jsxs)("div",{className:w,children:[(0,g.jsx)(x,{data:p,title:D},p.login),(0,g.jsx)(x,{data:C,title:L},C.login)]}),(0,g.jsx)("div",{className:_,children:(0,g.jsx)("button",{onClick:P,children:"RESET"})})]})}var E=(0,f.memo)(C)},7800:function(e,n,t){e.exports=t.p+"static/media/loading.22555b55def970341edf.gif"}}]);
//# sourceMappingURL=BattleResult.0a5a9972.chunk.js.map
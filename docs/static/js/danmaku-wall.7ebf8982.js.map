{"version":3,"file":"static/js/danmaku-wall.7ebf8982.js","mappings":"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","sources":["entries/danmaku-wall/components/Danmuku/index.tsx","entries/danmaku-wall/components/Danmuku/utils.ts","entries/danmaku-wall/components/Danmuku/portal.tsx","entries/danmaku-wall/App.tsx","entries/danmaku-wall/index.tsx","reportWebVitals.ts","../node_modules/react-dom/client.js","../node_modules/react/cjs/react-jsx-runtime.production.min.js","../node_modules/react/jsx-runtime.js","../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js"],"sourcesContent":["import React, {\n  forwardRef,\n  memo,\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n} from \"react\";\n// import cn from \"classnames\";\nimport \"./index.less\";\nimport portal from \"./portal\";\nimport { random, randomColor } from \"./utils\";\n// import { root } from \"../..\";\nimport ReactDOM from \"react-dom/client\";\n// import ReactDOM2 from \"react-dom\";\n\ninterface Props {\n  words: string;\n  container?: HTMLDivElement | null;\n  duration?: number;\n  onEnd?: (val?: any) => any;\n}\n\nfunction Component(props: Props) {\n  const { words, container, duration, onEnd } = props;\n  const [style, setStyle] = useState<React.CSSProperties>();\n  const eleRef = useRef<HTMLSpanElement>(null);\n  const durationRef = useRef((duration || random(5, 10)) * 1000);\n  const [status, setStatus] = useState<\"move\" | \"pause\">(\"move\");\n  const lastTimeRef = useRef(0);\n  const useTimeRef = useRef(0);\n  const totalRef = useRef(0);\n\n  useEffect(() => {\n    const ele = eleRef.current;\n    const containerEle =\n      container || (document.getElementById(\"screen\") as HTMLDivElement);\n    if (ele && containerEle) {\n      const fontSize = random(14, 28);\n      const color = randomColor();\n      const right = -ele.clientWidth;\n      const top = random(0, containerEle.clientHeight - ele.clientHeight);\n      setStyle({\n        fontSize,\n        color,\n        right,\n        top,\n      });\n      totalRef.current = containerEle.clientWidth - right;\n    }\n  }, [container]);\n\n  useEffect(() => {\n    const ele = eleRef.current;\n    if (status === \"pause\") {\n      return;\n    }\n    if (ele && container) {\n      const total = totalRef.current;\n      let time = durationRef.current;\n      let currentX = 0;\n      let id = 0;\n      const step: FrameRequestCallback = (timestamp) => {\n        // const timestamp = +new Date()\n        lastTimeRef.current = lastTimeRef.current || timestamp;\n\n        let lastTime = lastTimeRef.current;\n        let useTime = useTimeRef.current;\n\n        useTime = useTime + timestamp - lastTime;\n\n        currentX = (total * useTime) / time;\n        // console.log({ time, useTime, timestamp, lastTime, total, currentX });\n\n        // 确保元素刚好停在total的位置\n        currentX = Math.min(currentX, total);\n        ele.style.transform = \"translateX(-\" + currentX + \"px)\";\n        lastTimeRef.current = timestamp;\n        useTimeRef.current = useTime;\n\n        if (useTime < time) {\n          // 在五秒后停止动画\n          id = requestAnimationFrame(step);\n        } else {\n          setTimeout(() => {\n            onEnd && onEnd();\n          }, 0);\n        }\n      };\n\n      id = requestAnimationFrame(step);\n\n      return () => {\n        id && cancelAnimationFrame(id);\n      };\n    }\n  }, [container, onEnd, status]);\n\n  const handleFocus = useCallback(() => {\n    setStatus(\"pause\");\n  }, []);\n  const handleUnFocus = useCallback(() => {\n    setStatus(\"move\");\n    lastTimeRef.current = 0;\n  }, []);\n\n  return (\n    <span\n      ref={eleRef}\n      className=\"danmaku\"\n      style={style}\n      onMouseEnter={handleFocus}\n      onMouseOut={handleUnFocus}\n    >\n      {words}\n    </span>\n  );\n}\n\ntype AllFun = {\n  launch: (props: Props) => any;\n  // OrignDanmuku: React.FC<Props>;\n};\n\ntype DanmukuType = React.MemoExoticComponent<\n  (props: any) => React.ReactPortal\n> &\n  AllFun;\n\nlet root: any;\nconst Danmuku = portal(Component) as DanmukuType;\nexport const OrignDanmuku = memo(Component);\nDanmuku.launch = (props: Props) => {\n  const TempDanmuku = forwardRef<any>((_, ref) => {\n    // useEffect(() => {\n    //   timer = window.setTimeout(() => {\n    //     setVisible(false)\n    //   }, props.duration)\n    //   return () => {\n    //     window.clearTimeout(timer)\n    //   }\n    // }, [])\n\n    // useImperativeHandle(ref, () => ({\n    //   close: () => setVisible(false),\n    // }))\n\n    return <Danmuku {...props} />;\n  });\n\n  root = root || ReactDOM.createRoot(document.getElementById('screen') as HTMLElement);\n  root.render(<TempDanmuku />);\n  // ReactDOM2.render(\n  //   <TempDanmuku />,\n  //   document.getElementById(\"screen\") as HTMLElement\n  // );\n\n  // return {\n  //   close: () => {\n  //     root.unmount();\n  //   },\n  // };\n};\nexport default Danmuku;\n","export function random(min = 0, max = 100) {\n  return Math.round(Math.random() * (max - min)) + min;\n}\n\nexport function randomColor() {\n  return \"#\" + Math.floor(Math.random() * 16777215).toString(16);\n}\n","import React, { memo, useMemo } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nexport default function portal(WrapComponent: React.FC<any>) {\n  const Modal = function (props: any) {\n    const container = useMemo(() => {\n      let modalRoot = document.getElementById(\"screen\");\n      if (!modalRoot) {\n        modalRoot = document.createElement(\"div\");\n        modalRoot.id = \"screen\";\n        modalRoot.classList.add(\"screen\");\n        document.body.appendChild(modalRoot);\n      }\n      return modalRoot;\n    }, []);\n    //visible控制显示/隐藏\n    return ReactDOM.createPortal(<WrapComponent {...props} container={container} />, container);\n  };\n  return memo(Modal);\n}\n","import { useCallback, useRef, useState } from \"react\";\nimport \"./App.less\";\nimport { OrignDanmuku } from \"./components/Danmuku\";\n\nfunction App() {\n  const words = useRef(\"\");\n  const count = useRef(0);\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  const [danmakus, setDanmakus] = useState<any[]>([]);\n\n  const handleSend = useCallback(() => {\n    if (words.current) {\n      /**\n       * ! Alerts v18版本，通过render，每次只会显示一个dom\n       */\n      // Danmuku.launch({\n      //   words: words.current,\n      //   duration: 10,\n      //   container: containerRef.current as HTMLDivElement,\n      // });\n      setDanmakus((pre) => [\n        ...pre,\n        {\n          id: count.current++,\n          words: words.current,\n        },\n      ]);\n    }\n  }, []);\n  const handClear = useCallback(() => {\n    setDanmakus([]);\n  }, []);\n\n  const handleChange = useCallback((e: any) => {\n    words.current = e.target.value;\n  }, []);\n  const handleEnd = useCallback((item: any) => {\n    setDanmakus((pre) => pre.filter((i) => item.id !== i.id));\n  }, []);\n\n  return (\n    <div className=\"danmaku-wall\">\n      <div ref={containerRef} id=\"screen\" className=\"screen\">\n        {danmakus.map((item) => (\n          <OrignDanmuku\n            key={item.id}\n            words={item.words}\n            container={containerRef.current}\n            onEnd={() => handleEnd(item)}\n          />\n        ))}\n      </div>\n      <div className=\"text-center control-panel\">\n        <input\n          type=\"text\"\n          placeholder=\"请输入弹幕内容\"\n          maxLength={50}\n          onChange={handleChange}\n        />\n        <div>\n          <button className=\"primary\" type=\"button\" onClick={handleSend}>\n            发射\n          </button>\n          <button className=\"clean\" type=\"button\" onClick={handClear}>\n            清屏\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport reportWebVitals from '@/reportWebVitals';\nimport '@/common.css';\nimport App from './App';\n\nconst root = ReactDOM.createRoot(\n  document.getElementById('root') as HTMLElement\n);\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}"],"names":["root","random","min","max","Math","round","Component","props","words","container","duration","onEnd","useState","style","setStyle","eleRef","useRef","durationRef","status","setStatus","lastTimeRef","useTimeRef","totalRef","useEffect","ele","current","containerEle","document","getElementById","fontSize","color","floor","toString","right","clientWidth","top","clientHeight","total","time","currentX","id","requestAnimationFrame","step","timestamp","lastTime","useTime","transform","setTimeout","cancelAnimationFrame","handleFocus","useCallback","handleUnFocus","ref","className","onMouseEnter","onMouseOut","Danmuku","WrapComponent","Modal","useMemo","modalRoot","createElement","classList","add","body","appendChild","ReactDOM","memo","portal","OrignDanmuku","launch","TempDanmuku","forwardRef","_","render","count","containerRef","danmakus","setDanmakus","handleSend","pre","handClear","handleChange","e","target","value","handleEnd","item","filter","i","map","type","placeholder","maxLength","onChange","onClick","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","m","require","exports","createRoot","hydrateRoot","f","k","Symbol","for","l","Object","prototype","hasOwnProperty","n","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentOwner","p","key","__self","__source","q","c","a","g","b","d","h","call","defaultProps","$$typeof","_owner","Fragment","jsx","jsxs","module","_arrayLikeToArray","arr","len","length","arr2","Array","_arrayWithHoles","isArray","_defineProperty","obj","defineProperty","enumerable","configurable","writable","_iterableToArray","iter","iterator","from","_nonIterableRest","TypeError","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties","_slicedToArray","arrayWithHoles","_i","_s","_e","_arr","_n","_d","next","done","err","unsupportedIterableToArray","nonIterableRest","_toConsumableArray","arrayLikeToArray","iterableToArray","_unsupportedIterableToArray","o","minLen","slice","constructor","name","test"],"sourceRoot":""}
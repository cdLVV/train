"use strict";(self.webpackChunktrain_ts=self.webpackChunktrain_ts||[]).push([[125],{1559:function(e,n,t){t.d(n,{w:function(){return u},y:function(){return c}});var r=t(1413),s=t(9439),a=t(1594),i=t(95);function o(e,n){return"".concat(e,"?").concat(function(e){return Object.entries(e).reduce((function(e,n){var t=(0,s.Z)(n,2),r=t[0],a=t[1];return"".concat(e).concat(e?"&":"").concat(r,"=").concat(a)}),"")}(n))}function c(){var e,n={},t=Promise.resolve().then((function(){return new Promise((function(n,t){var r=new XMLHttpRequest;function s(){if(r){var e;try{e="string"===typeof r.response?JSON.parse(r.response):r.response}catch(t){e=r.response}n(e),r=null}}r.open("GET",o("https://api.github.com/search/repositories",e),!0),r.responseType="json","setRequestHeader"in r&&r.setRequestHeader("Accept","application/json, text/plain, */*"),"onloadend"in r?r.onloadend=s:r.onreadystatechange=function(){r&&4===r.readyState&&(0!==r.status||r.responseURL&&0===r.responseURL.indexOf("file:"))&&setTimeout(s)},r.onabort=function(){r&&(t(new Error("Request aborted")),r=null)},r.onerror=function(){t(new Error("Network Error")),r=null},r.ontimeout=function(){t(new Error("timeout")),r=null},r.send()}))}));return t.setParams=function(n){return e=n,t},t.setConfig=function(e){return n=(0,r.Z)((0,r.Z)({},n),e),t},t.catch((function(e){var t;(null===(t=n.showError)||void 0===t||t)&&(0,i.X)((null===e||void 0===e?void 0:e.message)||"\u8bf7\u6c42\u51fa\u9519\u4e86")})),t}function u(e){return a.ZP.get("/users/".concat(e)).setConfig({baseURL:"https://api.github.com",notCheckCode:!0})}},1594:function(e,n,t){t.d(n,{ZP:function(){return y}});var r=t(1413),s=t(5671),a=t(3144),i=t(4569),o=t.n(i),c=t(2808),u=t.n(c),l=t(136),f=t(7277),d=function(e){(0,l.Z)(t,e);var n=(0,f.Z)(t);function t(){var e;(0,s.Z)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=n.call.apply(n,[this].concat(a))).__USER_FRIENDLY__=!0,e}return(0,a.Z)(t)}((0,t(8737).Z)(Error)),h=function(e){(0,l.Z)(t,e);var n=(0,f.Z)(t);function t(e,r,a,i){var o;return(0,s.Z)(this,t),(o=n.call(this,e)).name="ApiBusinessError",o.errcode=void 0,o.data=void 0,o.config=void 0,o.errmsg=void 0,o.errcode=r,o.data=a,o.config=i,o.errmsg=e,o}return(0,a.Z)(t)}(d),v=function(e){(0,l.Z)(t,e);var n=(0,f.Z)(t);function t(e,r){var a;return(0,s.Z)(this,t),(a=n.call(this,e)).name="ApiNetError",a.errcode=void 0,a.errmsg=void 0,a.errcode=r,a.errmsg=e,a}return(0,a.Z)(t)}(d),m=t(95),p={},g=function(){function e(n,t){(0,s.Z)(this,e),this.config=void 0,this.axiosInstance=void 0,this.canceler=void 0;var a=(0,r.Z)((0,r.Z)({},p),t);this.config=a,this.axiosInstance=n}return(0,a.Z)(e,[{key:"then",value:function(e,n){return this.send().then(e,n)}},{key:"catch",value:function(e){return this.send().then(null,e)}},{key:"cancel",value:function(){return this.canceler&&this.canceler(),this}},{key:"appendParams",value:function(e){return this.config.params=(0,r.Z)((0,r.Z)({},this.config.params),e),this}},{key:"setParams",value:function(e){return this.config.params=e,this}},{key:"setData",value:function(e){return this.config.data=e,this}},{key:"setConfig",value:function(e){return this.config=(0,r.Z)((0,r.Z)({},this.config),e),this}},{key:"setHeaders",value:function(e){return this.config.headers=(0,r.Z)((0,r.Z)({},this.config.headers),e),this}},{key:"appendData",value:function(e){return this.config.data=(0,r.Z)((0,r.Z)({},this.config.data),e),this}},{key:"send",value:function(){this.cancel();var e=o().CancelToken.source(),n=e.cancel,t=e.token;this.config.cancelToken=t,this.canceler=n,this.config.headers||(this.config.headers={});var s=(0,r.Z)({},this.config);if("formData"===s.bodyType&&s.data instanceof window.FormData===!1){var a=new window.FormData;Object.keys(s.data).forEach((function(e){a.append(e,s.data[e])})),s.data=a}else"url"===s.bodyType&&(s.data=u().stringify(s.data));return delete s.bodyType,this.axiosInstance(s)}}]),e}(),x=(0,a.Z)((function e(n,t){var a=this;(0,s.Z)(this,e),this.axiosInstance=void 0,this.requestInstanceConfig=void 0,this.get=function(e,n){return new g(a.axiosInstance,(0,r.Z)((0,r.Z)({method:"get",url:e},a.requestInstanceConfig),n))},this.post=function(e,n){return new g(a.axiosInstance,(0,r.Z)((0,r.Z)({method:"post",url:e},a.requestInstanceConfig),n))},this.put=function(e,n){return new g(a.axiosInstance,(0,r.Z)((0,r.Z)({method:"put",url:e},a.requestInstanceConfig),n))},this.delete=function(e,n){return new g(a.axiosInstance,(0,r.Z)((0,r.Z)({method:"delete",url:e},a.requestInstanceConfig),n))},this.interceptor={req:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e){a.axiosInstance.interceptors.request.use(e)})),res:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e){a.axiosInstance.interceptors.response.use(e)})),error:function(e){a.axiosInstance.interceptors.response.use(void 0,e)}},this.axiosInstance=n,this.requestInstanceConfig=t}));var Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object.assign({},e);return new x(o().create(n),e)}({baseURL:"https://www.fastmock.site"});Z.interceptor.req((function(e){var n=(0,r.Z)({},e.headers);return Object.keys(n).forEach((function(e){void 0===n[e]&&delete n[e]})),(0,r.Z)((0,r.Z)({},e),{},{headers:n})})),Z.interceptor.res((function(e){var n,t=e,r=t.data,s=t.config;return s.notCheckCode||200===r.code?r:((null===(n=s.showError)||void 0===n||n)&&(0,m.X)(r.desc),Promise.reject(new h(r.desc,r.code,r,s)))})),Z.interceptor.error((function(e){var n;if(e instanceof h)return Promise.reject(e);var t=e,r=t.response,s=t.config,a=void 0===s?{}:s,i="\u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5",o=-255;if(r){var c=r.status;switch(o=c,c){case 0:i="\u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc:".concat(o);break;case 404:i="\u60a8\u8bf7\u6c42\u7684\u5730\u5740\u4e0d\u5b58\u5728:".concat(o);break;default:i="\u670d\u52a1\u5f02\u5e38\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5:".concat(o)}}else i="\u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc";return(null===(n=a.showError)||void 0===n||n)&&(0,m.X)(i),Promise.reject(new v(i,o))}));var y=Z},95:function(e,n,t){t.d(n,{X:function(){return s}});var r=t(3085);function s(e,n){r.Z.error({top:80,message:n||"\u8bf7\u6c42\u9519\u8bef",description:"\u539f\u56e0\uff1a".concat(e)})}},7426:function(e,n,t){t.d(n,{Z:function(){return d}});var r=t(1413),s=t(4925),a=t(2791),i=t(1694),o=t.n(i),c=(t(2504),t(2664),t(184)),u=["src","srcSet","className","lazy","defaultSrc"],l=t(7800);function f(e){var n=e.src,t=e.srcSet,a=e.className,i=e.lazy,f=void 0===i||i,d=e.defaultSrc,h=void 0===d?l:d,v=(0,s.Z)(e,u);return(0,c.jsx)("img",(0,r.Z)((0,r.Z)({src:h,"data-src":n,"data-srcset":t},v),{},{className:o()(a,{lazyload:f})}))}var d=(0,a.memo)(f)},4909:function(e,n,t){t.r(n),t.d(n,{default:function(){return N}});var r=t(1413),s=t(9439),a=t(3085),i=t(501),o=t(6871),c=t(2791),u=t(4942),l=t(5861),f=t(7757),d=t.n(f),h=t(1559),v=t(7426),m=t(5705),p=t(184);function g(e){var n=e.title,t=e.onSubmit,r=e.onCheck,a=e.nameKey,i=(0,c.useState)(),o=(0,s.Z)(i,2),f=o[0],g=o[1],x=(0,c.useState)(!1),Z=(0,s.Z)(x,2),y=Z[0],b=Z[1],j=(0,c.useCallback)(function(){var e=(0,l.Z)(d().mark((function e(n){var s,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=n.name,console.log({values:n}),!r||r(s)){e.next=4;break}return e.abrupt("return");case 4:return b(!0),e.prev=5,e.next=8,(0,h.w)(s);case 8:i=e.sent,g(i),t&&t((0,u.Z)({},a,i.login)),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(5);case 15:b(!1);case 16:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(n){return e.apply(this,arguments)}}(),[r,t,a]),k=(0,m.TA)({initialValues:{name:""},onSubmit:function(e){return j(e)}}),w=(0,c.useCallback)((function(){g(null),t&&t((0,u.Z)({},a,""))}),[a,t]);return console.log("formik",k.values),(0,p.jsxs)("div",{className:"player",children:[(0,p.jsx)("div",{className:"title",children:n}),!f&&!y&&(0,p.jsx)("form",{onSubmit:k.handleSubmit,children:(0,p.jsxs)("div",{className:"input-wrap",children:[(0,p.jsx)("input",{type:"text",name:"name",value:k.values.name,placeholder:"github username",onChange:k.handleChange}),(0,p.jsx)("button",{disabled:!k.values.name,type:"submit",children:"Submit"})]})}),f&&(0,p.jsxs)("div",{className:"user",children:[(0,p.jsx)(v.Z,{src:f.avatar_url}),(0,p.jsx)("div",{children:f.login}),(0,p.jsx)("i",{className:"fa fa-times fa-3x",onClick:w})]}),!f&&y&&(0,p.jsx)("div",{className:"user",children:(0,p.jsx)("i",{className:"fa fa-spinner fa-x fa-spin fa-fw"})})]})}var x=(0,c.memo)(g),Z="index_index__DCdUi",y="index_title__Q76OC",b="index_desc__fwTJH",j="index_descItem__90HlA",k="index_players__9B4Lf",w="index_btnWrap__wl7MN";function C(){var e=(0,c.useState)({name1:"",name2:""}),n=(0,s.Z)(e,2),t=n[0],u=n[1],l=(0,o.s0)(),f=(0,c.useMemo)((function(){return Object.values(t).every((function(e){return!!e}))}),[t]),d=(0,c.useCallback)((function(e){var n=!Object.values(t).some((function(n){return n===e}));return n||a.Z.error({top:80,message:"\u51fa\u9519\u4e86",description:"\u539f\u56e0\uff1a\u5f53\u524dplayer\u5df2\u7ecf\u5b58\u5728\u4e86"}),n}),[t]),h=(0,c.useCallback)((function(e){u((function(n){return(0,r.Z)((0,r.Z)({},n),e)}))}),[]),v=(0,c.useCallback)((function(){l({pathname:"/battle-result",search:"?".concat((0,i.fW)(t))})}),[t,l]);return(0,p.jsxs)("div",{className:Z,children:[(0,p.jsx)("h2",{className:y,children:"Instructions"}),(0,p.jsxs)("div",{className:b,children:[(0,p.jsxs)("div",{className:j,children:[(0,p.jsx)("div",{children:"Enter two Github:"}),(0,p.jsx)("i",{className:"fa fa-users",style:{color:"rgb(255, 191, 116)"}})]}),(0,p.jsxs)("div",{className:j,children:[(0,p.jsx)("div",{children:"Battle"}),(0,p.jsx)("i",{className:"fa fa-fighter-jet",style:{color:"gray"}})]}),(0,p.jsxs)("div",{className:j,children:[(0,p.jsx)("div",{children:"See the winner"}),(0,p.jsx)("i",{className:"fa fa-angellist",style:{color:"rgb(244, 234, 42)"}})]})]}),(0,p.jsx)("h2",{className:y,children:"Players"}),(0,p.jsxs)("div",{className:k,children:[(0,p.jsx)(x,{nameKey:"name1",title:"Player One",onCheck:d,onSubmit:h}),(0,p.jsx)(x,{nameKey:"name2",title:"Player Two",onCheck:d,onSubmit:h})]}),f&&(0,p.jsx)("div",{className:w,children:(0,p.jsx)("button",{onClick:v,children:"Battle"})})]})}var N=(0,c.memo)(C)},7800:function(e,n,t){e.exports=t.p+"static/media/loading.22555b55def970341edf.gif"}}]);
//# sourceMappingURL=Battle.9654f71c.chunk.js.map